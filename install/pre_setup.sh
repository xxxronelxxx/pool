#!/bin/env bash

##################################################################################
# This is the entry point for configuring the system.                            #
# Source https://mailinabox.email/     https://github.com/mail-in-a-box/mailinabox   #
# Updated by Afiniel for yiimpool use...                                         #
##################################################################################

source /etc/functions.sh
clear
echo -e "$YELLOW => Setting our global variables <= ${NC}"

# === Ð–ÐÐ¡Ð¢ÐšÐž Ð—ÐÐ”ÐÐÐœ Ð’ÐÐ•Ð¨ÐÐ˜Ð™ IP (Ð²Ð°Ñˆ Ð¿ÑƒÐ±Ð»Ð¸Ñ‡Ð½Ñ‹Ð¹ Ð°Ð´Ñ€ÐµÑ) ===
# Ð­Ñ‚Ð¾ Ð¾Ð±Ñ…Ð¾Ð´Ð¸Ñ‚ Ð²ÑÑŽ Ð»Ð¾Ð³Ð¸ÐºÑƒ Ð°Ð²Ñ‚Ð¾Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸Ñ Ð¸ Ð¿Ñ€ÐµÐ´Ð¾Ñ‚Ð²Ñ€Ð°Ñ‰Ð°ÐµÑ‚ Ð¾ÑˆÐ¸Ð±ÐºÐ¸.
PUBLIC_IP="109.202.50.104"

# === ÐŸÐžÐ›ÐÐžÐ¡Ð¢Ð¬Ð® ÐžÐ¢ÐšÐ›Ð®Ð§ÐÐ•Ðœ IPv6 ===
PUBLIC_IPV6=""

# Ð­ÐºÑÐ¿Ð¾Ñ€Ñ‚Ð¸Ñ€ÑƒÐµÐ¼ Ð´Ð»Ñ Ð´Ñ€ÑƒÐ³Ð¸Ñ… ÑÐºÑ€Ð¸Ð¿Ñ‚Ð¾Ð²
export PUBLIC_IP
export PUBLIC_IPV6

# ÐÐ¸Ð¶Ðµ â€” ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ Ð»Ð¾Ð³Ð¸ÐºÐ¸ "auto" Ð½Ð° ÑÐ»ÑƒÑ‡Ð°Ð¹, ÐµÑÐ»Ð¸ Ð´Ñ€ÑƒÐ³Ð¸Ðµ Ñ‡Ð°ÑÑ‚Ð¸ ÑÐ¸ÑÑ‚ÐµÐ¼Ñ‹ ÐµÑ‘ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑŽÑ‚.
# ÐÐ¾ Ð¼Ñ‹ Ð¿ÐµÑ€ÐµÐ¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÑÐµÐ¼ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¾Ð½Ð¸ Ð½Ðµ Ð²Ñ‹Ð·Ñ‹Ð²Ð°Ð»Ð¸ ÑÐµÑ‚ÐµÐ²Ñ‹Ðµ Ð·Ð°Ð¿Ñ€Ð¾ÑÑ‹.

if [ "${PUBLIC_IP:-}" = "auto" ]; then
	PUBLIC_IP="109.202.50.104"
fi

if [ "${PUBLIC_IPV6:-}" = "auto" ]; then
	PUBLIC_IPV6=""
fi

# Ð˜Ð½Ñ„Ð¾Ñ€Ð¼Ð¸Ñ€ÑƒÐµÐ¼ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ
echo "âœ… PUBLIC_IP set to: $PUBLIC_IP"
echo "ðŸš« PUBLIC_IPV6 disabled"
